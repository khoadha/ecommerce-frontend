<div class="row pt-3 my-4" style="background-color: ghostwhite;">
    <h3 class="web-font text-center fs-1 pt-4">Voucher nền tảng</h3>
    <ng-container *ngIf="voucherList.length>0; else voucherLoading">
        <p-carousel [showIndicators]="false" [autoplayInterval]="3000" [value]="voucherList" [numVisible]="5" [numScroll]="1" [circular]="true">
            <ng-template let-voucher pTemplate="item">
            <a class="text-decoration-none" style="cursor: pointer;" (click)="showVoucherDetail(voucher)">
                <div class="bg-white rounded mb-3 d-flex border mx-1">
                    <div class="px-2 pb-0 pt-2">
                        <div class="icon-container ">
                            <div class="icon-container_box">
                                <img src="assets/images/wemade-logo-pic.png" width="50" height="auto"
                                    alt="voucher"/>
                            </div>
                        </div>
                    </div>
                    <div class="pt-2 d-flex w-100 justify-content-start">
                        <div class="detail-container">
                            <span style="font-size: 10px;" class="badge bg-success">Giảm {{voucher.percentage}}%</span>
                            <p style="font-size:12px; line-height:1.1;" class="lead fw-bolder mb-0 pastel">{{voucher.name}}</p>
                            <p style="font-size:12px; line-height:1.1;" class="text-muted mb-0">{{voucher.description}}</p>
                            <p style="font-size:12px; line-height:1.1;" class="text-muted mb-1">Lượt còn lại: {{voucher.availableCount}}</p>
                        </div>
                    </div>
                </div>
            </a>
        </ng-template>
        </p-carousel>
    </ng-container>



    <ng-template #voucherLoading>
        <div class="row">
            <div class="col-12 py-5 customer-spinner-color">
                <mat-spinner class="m-auto"></mat-spinner>
            </div>
        </div>
    </ng-template>
</div>

<ng-container *ngIf="selectedVoucher">
    <p-dialog  [maximizable]="true" [header]="'Voucher từ nền tảng Wemade'" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
        <div class="d-flex flex-row">
            <div class="col-4 d-flex justify-content-center">
                <img src="assets/images/wemade-logo-pic.png" width="50%" height="auto" alt="voucher"/>
            </div>
            <div class="col-8">
                <p class="m-0 mb-1 web-font">
                    Mã voucher: <span class="pastel fw-bold">{{selectedVoucher.name}}</span>
                 </p>
                 <p class="m-0 mb-1 web-font">
                     Chi tiết: <span class="pastel fw-bold">{{selectedVoucher.description}}</span>
                  </p>
                 <p class="m-0 mb-1 web-font">
                     Lượt sử dụng còn lại: <span class="pastel fw-bold">{{selectedVoucher.availableCount}}</span>
                  </p>
                  <p class="m-0 mb-1 web-font">
                     Phần trăm giảm: <span class="pastel fw-bold">{{selectedVoucher.percentage}}%</span>
                  </p>
                  <p class="m-0 mb-1 web-font">
                     Giá trị đơn hàng tối thiểu để được áp dụng: <span class="pastel fw-bold">{{selectedVoucher.approvedValue | vndCurrencyPipe}}</span>
                  </p>
                  <p class="m-0 mb-1 web-font">
                     Giảm tối đa: <span class="pastel fw-bold">{{selectedVoucher.maxValue | vndCurrencyPipe}}</span>
                  </p>
            </div>
        </div>
    </p-dialog>
</ng-container>
