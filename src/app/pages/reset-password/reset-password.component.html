<div class="auth-bg-image">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <form [formGroup]="newPasswordForm" (ngSubmit)="resetPassword()" class="col-md-4">
        <mat-card class="rounded-4" style="background-color: whitesmoke;">
          <mat-card-header style="display:block;">
            <mat-card-title class="text-center">
              <p class="web-font fs-2 my-5 text-dark fw-bolder">Đặt lại mật khẩu</p>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="row mt-4">
              <mat-form-field color="primary" appearance="fill">
                <mat-label>Mật khẩu mới</mat-label>
                <input matInput minlength="8" [type]="pwHide ? 'password' : 'text'" formControlName="newPassword">
                <button type="button" mat-icon-button matSuffix (click)="pwHide = !pwHide"
                  [attr.aria-label]="'Hide password'" [attr.aria-pressed]="pwHide">
                  <mat-icon>{{pwHide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-hint class="text-warning" *ngIf="newPasswordForm.get('newPassword')!.invalid 
          && newPasswordForm.get('newPassword')!.dirty">
                  Mục này phải bao gồm ít nhất 8 kí tự, trong đó có ít nhất 1 kí tự đặc biệt, 1 chữ
                  viết hoa, 1 chữ viết và 1 chữ số
                </mat-hint>
              </mat-form-field>
            </div>
            <div class="row mt-3">
              <mat-form-field color="primary" appearance="fill">
                <mat-label>Nhập lại mật khẩu mới</mat-label>
                <input matInput [type]="cpwHide ? 'password' : 'text'" formControlName="confirmedPassword">
                <button type="button" mat-icon-button matSuffix (click)="cpwHide = !cpwHide"
                  [attr.aria-label]="'Hide confirm password'" [attr.aria-pressed]="cpwHide">
                  <mat-icon>{{cpwHide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-hint class="text-warning" *ngIf="newPasswordForm.get('confirmedPassword')!.invalid 
          && newPasswordForm.get('confirmedPassword')!.dirty">Mục này phải giống mật khẩu</mat-hint>
              </mat-form-field>
            </div>
          </mat-card-content>
          <mat-card-actions class="pb-4 px-5 pt-4">
            <button class="w-100" mat-stroked-button
                [ngClass]="{'text-light': !newPasswordForm.valid, 'text-light pastel-bg': newPasswordForm.valid}"
                [disabled]="!newPasswordForm.valid">
                Cập nhật
            </button>
        </mat-card-actions>
        </mat-card>
      </form>
    </div>
  </div>
</div>